<meta charset="utf-8">

<div id="filter">

    <form [formGroup]="myform" (ngSubmit)="filter(myform.value)">  

    <button id="getMap" (click)="openMap(mapModal)" type="button" class="btn btn-default btn-sm">
          <span class="glyphicon glyphicon-map-marker"></span> מוסדות במפה
    </button>

        <input type="submit" class="btn btn-info" value="סינון" [disabled]="!myform.valid">

        <select class="form-control" formControlName="dorms">
            <option value="null" >מעונות?</option>
            <option *ngFor="let d of dorms"
              [value]="d"> 
              {{d}} 
             </option>
        </select>

        <select class="form-control" formControlName="salary">
            <option value="null" >בחר סוג שכ"ל</option>
            <option *ngFor="let s of salary"
              [value]="s"> 
              {{s}} 
             </option>
        </select>

        <select class="form-control" formControlName="institute">
            <option value="null" >בחר סוג מוסד</option>
            <option *ngFor="let i of institute"
              [value]="i"> 
              {{i}} 
             </option>
        </select>

        <select class="form-control" formControlName="subEng">
            <option value="null" >בחר תחום הנדסה</option>
            <option *ngFor="let s of subEngs"
              [value]="s"> 
              {{s}} 
             </option>
        </select>

        <select class="form-control" formControlName="location">
            <option value="null" >בחר מיקום</option>
            <option *ngFor="let l of locations"
              [value]="l"> 
              {{l}} 
             </option>
        </select>

    </form>
</div>


<div id="institutes">
    <section (click)="openInfo(CollegeModal,c)" class="frame" *ngFor="let c of colleges">
        <section class="pic">
            <img src="{{c.pic}}">
        </section>
        <section class="logo">
            <img src="{{c.logo}}">            
        </section>
        <p class="name">{{c.hebName}}</p>
    </section>    
</div>


<ng-template #mapModal let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">מוסדות במפה</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
        <div class="form-container">
            <div class="row-columns">
              <agm-map [latitude]="32.1" [longitude]="35">
                <agm-marker *ngFor="let c of colleges" 
                  [latitude]="c.latitude" [longitude]="c.longitude" [title]="c.hebName">
                  <agm-info-window>
                     <strong>{{c.hebName}}</strong>
                  </agm-info-window>
                </agm-marker>          
              </agm-map>
            </div>
        </div>
  </div>
</ng-template>


<ng-template #CollegeModal let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">{{cChoosed.hebName}}</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <h4>{{cChoosed.headline}}</h4>
    <p>{{cChoosed.description}}</p>
    <h5>:תנאי קבלה</h5>
    <p>{{cChoosed.requirements}}</p>
    <h5>:תחומי הנדסה הנלמדים במוסד</h5>
    <p>{{cChoosed.subEng}}</p>
    <h5>:שכ"ל</h5>
    <p>{{cChoosed.tuitionFee}}</p>
    <h5>:ימים פתוחים</h5>
    <p>{{cChoosed.openday}}</p>
    <h5>:כתובת</h5>
    <p>{{cChoosed.address}}</p>
    <h5>:טלפון</h5>
    <p>{{cChoosed.tel}}</p>    
  </div>
</ng-template>

